# Extended Copy - 테스트 케이스 명세서

## 📋 개요
Extended Copy 프로그램의 전체 기능에 대한 포괄적인 테스트 케이스 모음입니다.
TDD(Test-Driven Development) 방식으로 개발하기 위해 모든 요구사항을 테스트 케이스로 명세화했습니다.

---

## 🧪 1. 핵심 기능 테스트

### A. 키보드 이벤트 감지 테스트

#### TC-001: Command+C 기본 동작 보존
- **목적**: 기존 macOS 복사 동작이 변경되지 않음을 확인
- **입력**: `Command + C`
- **전제조건**: 텍스트가 선택된 상태
- **예상 결과**: 
  - 기존 macOS 복사 동작 수행
  - 누적 모드 비활성화/초기화
  - 클립보드에 선택된 텍스트만 저장
- **성공 기준**: 다른 앱에서 `Command + V` 시 선택한 텍스트만 붙여넣어짐

#### TC-002: Command+Option+C 누적 복사 시작
- **목적**: 누적 복사 모드의 첫 번째 사용 검증
- **입력**: `Command + Option + C` (첫 번째)
- **전제조건**: 
  - 텍스트가 선택된 상태
  - 누적 모드 비활성 상태
- **예상 결과**: 
  - 현재 선택된 텍스트가 누적 버퍼에 저장
  - 누적 모드 활성화
  - 상태바 아이콘 변경 (📋 → 📋+)
- **성공 기준**: `Command + V` 시 선택한 텍스트가 붙여넣어짐

#### TC-003: Command+Option+C 연속 누적
- **목적**: 누적 모드에서의 연속 복사 동작 검증
- **입력**: `Command + Option + C` (두 번째 이후)
- **전제조건**: 
  - 누적 모드 활성 상태
  - 새로운 텍스트가 선택된 상태
- **예상 결과**: 
  - 새 텍스트가 기존 누적 내용에 추가
  - 구분자(줄바꿈)로 내용 분리
  - 상태바 아이콘에 개수 표시 (📋2, 📋3...)
- **성공 기준**: `Command + V` 시 모든 누적된 내용이 순서대로 붙여넣어짐

---

### B. 누적 로직 테스트

#### TC-004: 텍스트 누적 순서 검증
- **목적**: 복사한 순서대로 텍스트가 누적되는지 확인
- **시나리오**: 
  1. "Hello" 선택 → `Command + Option + C`
  2. "World" 선택 → `Command + Option + C`
  3. `Command + V`
- **예상 결과**: "Hello\nWorld" (구분자 포함)
- **성공 기준**: 첫 번째 복사한 텍스트가 먼저, 두 번째가 나중에 위치

#### TC-005: 빈 텍스트 처리
- **목적**: 선택된 텍스트가 없을 때의 동작 검증
- **입력**: 선택된 텍스트 없이 `Command + Option + C`
- **예상 결과**: 
  - 빈 텍스트는 누적하지 않음
  - 누적 개수 변화 없음
  - 에러 없이 무시
- **성공 기준**: 이전 누적 내용이 그대로 유지됨

#### TC-006: 중복 텍스트 처리
- **목적**: 동일한 텍스트를 여러 번 복사할 때의 동작 검증
- **시나리오**: 
  1. "Hello" 선택 → `Command + Option + C`
  2. "Hello" 선택 → `Command + Option + C`
- **예상 결과**: "Hello\nHello" (중복 허용)
- **성공 기준**: 동일한 텍스트도 각각 별개로 누적됨

#### TC-007: 구분자 설정 테스트
- **목적**: 다양한 구분자 옵션 동작 검증
- **시나리오**: 구분자를 스페이스로 설정 후 누적
- **예상 결과**: "Hello World" (스페이스로 구분)
- **성공 기준**: 설정한 구분자가 올바르게 적용됨

---

### C. 초기화 테스트

#### TC-008: Command+C로 누적 초기화
- **목적**: 일반 복사로 누적 모드가 종료되는지 확인
- **시나리오**: 
  1. 누적 모드 활성 상태
  2. `Command + C` 실행
- **예상 결과**: 
  - 누적 버퍼 완전 초기화
  - 일반 복사 동작 수행
  - 상태바 아이콘 복원 (📋+ → 📋)
- **성공 기준**: 이후 `Command + V` 시 마지막 `Command + C`로 복사한 내용만 붙여넣어짐

#### TC-009: 앱 전환 시 초기화
- **목적**: 다른 앱으로 포커스 이동 시 자동 초기화 검증
- **시나리오**: 
  1. 누적 모드 활성 상태
  2. 다른 앱으로 포커스 이동
- **예상 결과**: 
  - 누적 버퍼 자동 초기화
  - 상태바 아이콘 복원
- **성공 기준**: 원래 앱으로 돌아와서 확인 시 누적 모드 비활성

#### TC-010: 시간 기반 초기화
- **목적**: 장시간 비활성 시 자동 초기화 검증
- **시나리오**: 
  1. 누적 모드 활성 상태
  2. 5분간 아무 복사 활동 없음
- **예상 결과**: 
  - 누적 버퍼 자동 초기화
  - 상태바 아이콘 복원
- **성공 기준**: 5분 후 `Command + Option + C` 시 새로운 누적 시작

---

## 🎨 2. UI/UX 테스트

### A. 상태바 표시 테스트

#### TC-011: 누적 모드 시작 시 아이콘 변경
- **목적**: 시각적 피드백의 정확성 검증
- **입력**: `Command + Option + C` (첫 번째)
- **예상 결과**: 상태바 아이콘이 📋 → 📋+ 로 변경
- **성공 기준**: 아이콘 변경이 즉시 반영됨

#### TC-012: 누적 개수 표시
- **목적**: 누적된 항목 수의 정확한 표시 검증
- **시나리오**: 3개 항목 누적
- **예상 결과**: 상태바에 📋3 표시
- **성공 기준**: 각 누적 시마다 숫자가 정확히 증가

#### TC-013: 일반 모드 복귀 시 아이콘 복원
- **목적**: 초기화 시 UI 상태 복원 검증
- **입력**: `Command + C` (초기화)
- **예상 결과**: 상태바 아이콘이 📋+ → 📋 로 복원
- **성공 기준**: 아이콘이 기본 상태로 즉시 복원됨

---

### B. 알림 및 피드백 테스트

#### TC-014: 누적 성공 알림
- **목적**: 사용자 피드백의 적절성 검증
- **입력**: `Command + Option + C`
- **예상 결과**: "2개 항목 누적됨" 형태의 토스트 알림 표시
- **성공 기준**: 알림이 2초간 표시되고 자동 사라짐

#### TC-015: 권한 부족 시 안내
- **목적**: 에러 상황에서의 사용자 안내 검증
- **조건**: Accessibility 권한 없음
- **예상 결과**: 권한 요청 안내 다이얼로그 표시
- **성공 기준**: 명확한 안내 메시지와 설정 페이지 이동 버튼 제공

---

## 🔗 3. 시스템 통합 테스트

### A. 다양한 앱에서의 동작 테스트

#### TC-016: 텍스트 에디터에서 동작
- **목적**: 일반적인 텍스트 편집 환경에서의 호환성 검증
- **테스트 앱**: TextEdit, VS Code, Notes
- **확인 사항**: 
  - 정상적인 텍스트 선택 및 누적
  - 포맷팅 정보 보존 여부
- **성공 기준**: 모든 앱에서 동일한 동작

#### TC-017: 웹 브라우저에서 동작
- **목적**: 웹 환경에서의 텍스트 복사 호환성 검증
- **테스트 앱**: Safari, Chrome
- **확인 사항**: 
  - 웹 페이지 텍스트 정상 누적
  - HTML 태그 제거 여부
- **성공 기준**: 순수 텍스트만 누적됨

#### TC-018: 다른 앱 간 누적
- **목적**: 크로스 애플리케이션 누적 기능 검증
- **시나리오**: TextEdit에서 복사 → Safari에서 누적
- **예상 결과**: 정상적인 크로스 앱 누적
- **성공 기준**: 앱 전환과 관계없이 누적 유지

---

### B. 특수 상황 테스트

#### TC-019: 대용량 텍스트 처리
- **목적**: 메모리 및 성능 한계 검증
- **입력**: 10MB 크기의 텍스트 누적
- **확인 사항**: 
  - 메모리 사용량 모니터링
  - 응답 시간 측정
  - 시스템 안정성
- **성공 기준**: 메모리 사용량 100MB 이하, 응답시간 1초 이하

#### TC-020: 특수 문자 처리
- **목적**: 다양한 문자 집합에 대한 호환성 검증
- **입력**: 이모지, 유니코드, 개행 문자, 탭 문자 포함 텍스트
- **예상 결과**: 모든 특수 문자 정확히 보존
- **성공 기준**: 복사 전후 문자가 100% 일치

#### TC-021: 시스템 재시작 후 동작
- **목적**: 앱 생명주기에 대한 견고성 검증
- **시나리오**: 앱 재시작 후 첫 번째 사용
- **예상 결과**: 
  - 정상 초기화 상태
  - 모든 기능 정상 동작
- **성공 기준**: 재시작 전과 동일한 동작

---

## ⚡ 4. 성능 및 안정성 테스트

#### TC-022: 연속 누적 성능 테스트
- **목적**: 반복 사용 시 성능 저하 방지 검증
- **시나리오**: 100회 연속 누적
- **확인 사항**: 
  - 각 누적의 응답 시간
  - 메모리 누수 여부
  - CPU 사용률
- **성공 기준**: 모든 누적이 1초 이하, 메모리 사용량 선형 증가

#### TC-023: 메모리 누수 테스트
- **목적**: 장시간 사용 시 메모리 안정성 검증
- **시나리오**: 1시간 연속 사용 (누적 및 초기화 반복)
- **확인 사항**: 
  - 메모리 사용량 추이
  - 가비지 컬렉션 효율성
- **성공 기준**: 메모리 사용량이 기준선 ±20% 내에서 안정

#### TC-024: 권한 상실 시 복구
- **목적**: 런타임 권한 변경에 대한 견고성 검증
- **시나리오**: 
  1. 정상 동작 중 Accessibility 권한 제거
  2. 권한 재부여
- **예상 결과**: 
  - 적절한 에러 메시지 표시
  - 권한 복구 시 즉시 정상 동작
- **성공 기준**: 앱 재시작 없이 기능 복구

#### TC-025: 동시성 테스트
- **목적**: 빠른 연속 입력에 대한 안정성 검증
- **시나리오**: 0.1초 간격으로 `Command + Option + C` 10회 실행
- **예상 결과**: 
  - 모든 입력 정확히 처리
  - 데이터 손실 없음
  - 순서 보장
- **성공 기준**: 10개 항목 모두 정확한 순서로 누적

---

## 📊 테스트 실행 계획

### 우선순위 1 (개발 초기)
- TC-001~003: 기본 키보드 이벤트 감지
- TC-004~006: 누적 로직 핵심 기능
- TC-008: 초기화 메커니즘

### 우선순위 2 (UI 구현 후)
- TC-011~015: 상태바 및 알림 UI
- TC-016~018: 기본 앱 호환성

### 우선순위 3 (최적화 단계)
- TC-019~025: 성능 및 안정성
- TC-009~010: 고급 초기화 기능

---

## 📝 테스트 자동화 방안

### 단위 테스트 (Unit Tests)
- 누적 로직 클래스 테스트
- 키보드 이벤트 파서 테스트
- 설정 관리 테스트

### 통합 테스트 (Integration Tests)
- 시스템 API 연동 테스트
- 앱 간 상호작용 테스트

### UI 테스트 (UI Tests)
- 상태바 아이콘 변경 테스트
- 알림 표시 테스트

### 성능 테스트 (Performance Tests)
- 메모리 사용량 측정
- 응답 시간 측정
- 부하 테스트

---

## 🎯 성공 기준 요약

1. **기능성**: 모든 핵심 기능이 명세대로 동작
2. **안정성**: 24시간 연속 사용 시 크래시 없음
3. **성능**: 응답시간 1초 이하, 메모리 사용량 100MB 이하
4. **호환성**: 주요 macOS 앱에서 정상 동작
5. **사용성**: 직관적인 UI/UX, 명확한 피드백

이 테스트 케이스들을 통해 Extended Copy 프로그램의 품질과 안정성을 보장하고, TDD 방식으로 체계적인 개발을 진행할 수 있습니다.